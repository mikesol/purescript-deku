
> purescript-deku@0.9.13 test
> npm run build:test && jest


> purescript-deku@0.9.13 build:test
> spago -x test/test.dhall build

[1 of 6] Compiling Deku.SSR
[2 of 6] Compiling Deku.Toplevel
[3 of 6] Compiling Test.Main
[4 of 6] Compiling Performance.Test.State.Deku
[5 of 6] Compiling Performance.Test.Todo.Deku
[6 of 6] Compiling Performance.Test.App
Warning 1 of 2:

  in module Deku.Toplevel
  at src/Deku/Toplevel.purs:56:1 - 59:37 (line 56, column 1 - line 59, column 37)

    A custom warning occurred while solving type class constraints:

      Debug function usage


  in value declaration flattenToSingleEvent

  See https://github.com/purescript/documentation/blob/master/errors/UserDefinedWarning.md for more information,
  or to contribute content related to this warning.

Warning 2 of 2:

  in module Deku.Toplevel
  at src/Deku/Toplevel.purs:30:1 - 30:74 (line 30, column 1 - line 30, column 74)

    The import of module FRP.Event contains the following unused references:

      keepLatest

    It could be replaced with:

      import FRP.Event (Event, makeEvent, subscribe, subscribePure)



  See https://github.com/purescript/documentation/blob/master/errors/UnusedExplicitImport.md for more information,
  or to contribute content related to this warning.


[info] Build succeeded.
  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeRoot_

      at log (output/Deku.Interpret/foreign.js:714:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setProp_

      at log (output/Deku.Interpret/foreign.js:492:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeDynBeacon_

      at log (output/Deku.Interpret/foreign.js:224:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setProp_

      at log (output/Deku.Interpret/foreign.js:492:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeDynBeacon_

      at log (output/Deku.Interpret/foreign.js:224:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setProp_

      at log (output/Deku.Interpret/foreign.js:492:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    ugh: {
      scope: Local { value0: [32m'rootScope'[39m },
      gnp: Local { value0: [32m'rootScope!544688'[39m }
    }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    icl: { icl: [33mtrue[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    { firstBranch: true }

      at log (output/Effect.Console/foreign.js:3:13)

  console.log
    nlevel: { n: [33m1[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    giveNewParent_

      at log (output/Deku.Interpret/foreign.js:723:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setCb_

      at log (output/Deku.Interpret/foreign.js:536:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    ugh: {
      scope: Local { value0: [32m'rootScope'[39m },
      gnp: Local { value0: [32m'rootScope!834317'[39m }
    }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    icl: { icl: [33mtrue[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    { firstBranch: true }

      at log (output/Effect.Console/foreign.js:3:13)

  console.log
    nlevel: { n: [33m1[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    giveNewParent_

      at log (output/Deku.Interpret/foreign.js:723:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    disconnectElement_

      at log (output/Deku.Interpret/foreign.js:836:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    disconnectElement_

      at log (output/Deku.Interpret/foreign.js:836:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setCb_

      at log (output/Deku.Interpret/foreign.js:536:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

PASS ./index.test.js
  deku
    âœ“ local portals lose portalness when sent out of scope without SSR (192 ms)
    â—‹ skipped is sane without SSR
    â—‹ skipped is sane with SSR
    â—‹ skipped has elements in the correct order without SSR
    â—‹ skipped has elements in the correct order with SSR
    â—‹ skipped has dyn appearing in the correct composable order without SSR
    â—‹ skipped has dyn appearing in the correct composable order with SSR
    â—‹ skipped deeply nested without SSR
    â—‹ skipped deeply nested with SSR
    â—‹ skipped domable is a monoid without SSR
    â—‹ skipped domable is a monoid with SSR
    â—‹ skipped sends to position correctly without SSR
    â—‹ skipped sends to position correctly with SSR
    â—‹ skipped sends to position correctly when elt is fixed without SSR
    â—‹ skipped sends to position correctly when elt is fixed with SSR
    â—‹ skipped sends to position correctly without SSR
    â—‹ skipped sends to position correctly with SSR
    â—‹ skipped switcher works for compositional elements without SSR
    â—‹ skipped switcher works for compositional elements with SSR
    â—‹ skipped tabbed navigation with pursx has correct layout without SSR
    â—‹ skipped tabbed navigation with pursx has correct layout with SSR
    â—‹ skipped portals compose without SSR
    â—‹ skipped portals compose with SSR
    â—‹ skipped global portals retain portalness when sent out of scope without SSR
    â—‹ skipped global portals retain portalness when sent out of scope with SSR
    â—‹ skipped local portals lose portalness when sent out of scope with SSR
    â—‹ skipped pursx composes without SSR
    â—‹ skipped pursx composes with SSR
    â—‹ skipped lifecycle events work without SSR
    â—‹ skipped lifecycle events work with SSR
    â—‹ skipped lifecycle has a difference before and after mounting without SSR
    â—‹ skipped lifecycle has a difference before and after mounting with SSR
    â—‹ skipped attributes are correctly unset without SSR
    â—‹ skipped attributes are correctly unset with SSR
    â—‹ skipped empty text does not break ssr without SSR
    â—‹ skipped empty text does not break ssr with SSR
    â—‹ skipped useRef has correct behavior without SSR
    â—‹ skipped useRef has correct behavior with SSR
    â—‹ skipped useEffect has correct behavior without SSR
    â—‹ skipped useEffect has correct behavior with SSR
    â—‹ skipped custom hooks do their thing without SSR
    â—‹ skipped custom hooks do their thing with SSR

Test Suites: 1 passed, 1 total
Tests:       41 skipped, 1 passed, 42 total
Snapshots:   0 total
Time:        1.542 s, estimated 2 s
Ran all test suites.
