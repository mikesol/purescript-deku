
> purescript-deku@0.9.13 test
> npm run build:test && jest


> purescript-deku@0.9.13 build:test
> spago -x test/test.dhall build

[1 of 6] Compiling Deku.SSR
[2 of 6] Compiling Deku.Toplevel
[3 of 6] Compiling Test.Main
[4 of 6] Compiling Performance.Test.State.Deku
[5 of 6] Compiling Performance.Test.Todo.Deku
[6 of 6] Compiling Performance.Test.App
Warning 1 of 2:

  in module Deku.Toplevel
  at src/Deku/Toplevel.purs:56:1 - 59:37 (line 56, column 1 - line 59, column 37)

    A custom warning occurred while solving type class constraints:

      Debug function usage


  in value declaration flattenToSingleEvent

  See https://github.com/purescript/documentation/blob/master/errors/UserDefinedWarning.md for more information,
  or to contribute content related to this warning.

Warning 2 of 2:

  in module Deku.Toplevel
  at src/Deku/Toplevel.purs:30:1 - 30:74 (line 30, column 1 - line 30, column 74)

    The import of module FRP.Event contains the following unused references:

      keepLatest

    It could be replaced with:

      import FRP.Event (Event, makeEvent, subscribe, subscribePure)



  See https://github.com/purescript/documentation/blob/master/errors/UnusedExplicitImport.md for more information,
  or to contribute content related to this warning.


[info] Build succeeded.
  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeRoot_

      at log (output/Deku.Interpret/foreign.js:714:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setProp_

      at log (output/Deku.Interpret/foreign.js:492:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeDynBeacon_

      at log (output/Deku.Interpret/foreign.js:224:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setProp_

      at log (output/Deku.Interpret/foreign.js:492:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeDynBeacon_

      at log (output/Deku.Interpret/foreign.js:224:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setProp_

      at log (output/Deku.Interpret/foreign.js:492:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    ugh: {
      scope: Local { value0: [32m'rootScope'[39m },
      gnp: Local { value0: [32m'rootScope!544688'[39m }
    }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    icl: { icl: [33mtrue[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    { firstBranch: true }

      at log (output/Effect.Console/foreign.js:3:13)

  console.log
    nlevel: { n: [33m1[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    giveNewParent_

      at log (output/Deku.Interpret/foreign.js:723:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setCb_

      at log (output/Deku.Interpret/foreign.js:536:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    ugh: {
      scope: Local { value0: [32m'rootScope'[39m },
      gnp: Local { value0: [32m'rootScope!834317'[39m }
    }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    icl: { icl: [33mtrue[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    { firstBranch: true }

      at log (output/Effect.Console/foreign.js:3:13)

  console.log
    nlevel: { n: [33m1[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    giveNewParent_

      at log (output/Deku.Interpret/foreign.js:723:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    disconnectElement_

      at log (output/Deku.Interpret/foreign.js:836:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeElement_

      at log (output/Deku.Interpret/foreign.js:370:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    makeText_

      at log (output/Deku.Interpret/foreign.js:417:13)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setText_

      at log (output/Deku.Interpret/foreign.js:602:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    attributeParent_

      at log (output/Deku.Interpret/foreign.js:8:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    disconnectElement_

      at log (output/Deku.Interpret/foreign.js:836:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    setCb_

      at log (output/Deku.Interpret/foreign.js:536:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

  console.log
    nlevel: { n: [33m0[39m }

      at Object.log [as _spy] (output/Debug/foreign.js:24:13)

  console.log
    deleteFromCache_

      at log (output/Deku.Interpret/foreign.js:877:11)

PASS ./index.test.js
  deku
    ✓ local portals lose portalness when sent out of scope without SSR (192 ms)
    ○ skipped is sane without SSR
    ○ skipped is sane with SSR
    ○ skipped has elements in the correct order without SSR
    ○ skipped has elements in the correct order with SSR
    ○ skipped has dyn appearing in the correct composable order without SSR
    ○ skipped has dyn appearing in the correct composable order with SSR
    ○ skipped deeply nested without SSR
    ○ skipped deeply nested with SSR
    ○ skipped domable is a monoid without SSR
    ○ skipped domable is a monoid with SSR
    ○ skipped sends to position correctly without SSR
    ○ skipped sends to position correctly with SSR
    ○ skipped sends to position correctly when elt is fixed without SSR
    ○ skipped sends to position correctly when elt is fixed with SSR
    ○ skipped sends to position correctly without SSR
    ○ skipped sends to position correctly with SSR
    ○ skipped switcher works for compositional elements without SSR
    ○ skipped switcher works for compositional elements with SSR
    ○ skipped tabbed navigation with pursx has correct layout without SSR
    ○ skipped tabbed navigation with pursx has correct layout with SSR
    ○ skipped portals compose without SSR
    ○ skipped portals compose with SSR
    ○ skipped global portals retain portalness when sent out of scope without SSR
    ○ skipped global portals retain portalness when sent out of scope with SSR
    ○ skipped local portals lose portalness when sent out of scope with SSR
    ○ skipped pursx composes without SSR
    ○ skipped pursx composes with SSR
    ○ skipped lifecycle events work without SSR
    ○ skipped lifecycle events work with SSR
    ○ skipped lifecycle has a difference before and after mounting without SSR
    ○ skipped lifecycle has a difference before and after mounting with SSR
    ○ skipped attributes are correctly unset without SSR
    ○ skipped attributes are correctly unset with SSR
    ○ skipped empty text does not break ssr without SSR
    ○ skipped empty text does not break ssr with SSR
    ○ skipped useRef has correct behavior without SSR
    ○ skipped useRef has correct behavior with SSR
    ○ skipped useEffect has correct behavior without SSR
    ○ skipped useEffect has correct behavior with SSR
    ○ skipped custom hooks do their thing without SSR
    ○ skipped custom hooks do their thing with SSR

Test Suites: 1 passed, 1 total
Tests:       41 skipped, 1 passed, 42 total
Snapshots:   0 total
Time:        1.542 s, estimated 2 s
Ran all test suites.
